{"ast":null,"code":"var _jsxFileName = \"/home/rails/Desktop/car-parking-app/src/Components/Layout.tsx\";\nimport React from 'react';\nimport { TextField } from '@material-ui/core';\nimport { Grid, Button, Box } from '@material-ui/core';\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Layout = _ref => {\n  let {\n    handleSubmit2,\n    parkingSlots,\n    form,\n    setForm,\n    setPrice,\n    setOpen\n  } = _ref;\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setForm({ ...form,\n      [name]: value\n    });\n  };\n\n  const handleOpen = item => {\n    let exitTime = new Date().toLocaleTimeString(navigator.language, {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n    let arriveTime = item.id ? item.time : item;\n    const newArrivetime = arriveTime.split(\":\");\n    const newExitTime = exitTime.split(\":\");\n    const totaltime = Number(newExitTime[0]) - Number(newArrivetime[0]);\n\n    if (totaltime < 2) {\n      setPrice(10);\n    } else {\n      setPrice((totaltime - 1) * 10);\n    }\n\n    setOpen(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      style: {\n        padding: \"3%\",\n        gap: \"20px\"\n      },\n      direction: \"row\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      children: parkingSlots.map(item => /*#__PURE__*/_jsxDEV(Link, {\n        style: {\n          pointerEvents: item.isAlloted ? \"auto\" : \"none\",\n          textDecoration: \"none\"\n        },\n        to: `/layout/${item.id}`,\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          style: {\n            lineHeight: \"50px\",\n            textAlign: \"center\",\n            border: \"1px solid black\",\n            backgroundColor: item.isAlloted ? \"green\" : \"grey\",\n            color: \"#000\",\n            margin: \"0px 15px\"\n          },\n          sx: {\n            width: 50,\n            height: 50\n          },\n          id: \"parking-drawing-space\",\n          onClick: () => handleOpen(item),\n          children: item.id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 18\n        }, this)\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit2,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        className: \"inputs\",\n        style: {\n          marginTop: \"50px\",\n          gap: \"30px\"\n        },\n        container: true,\n        direction: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            onChange: handleChange,\n            name: \"registration\",\n            value: form.registration,\n            autoFocus: true,\n            autoComplete: \"off\",\n            id: \"parking-drawing-registration-input\",\n            label: \"Enter car registration no.\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 16\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            style: {\n              width: \"150px\"\n            },\n            name: \"time\",\n            onChange: handleChange,\n            value: form.time,\n            id: \"time\",\n            label: \"Arrive time\",\n            type: \"time\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 16\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            id: \"parking-drawing-add-car-button\",\n            variant: \"contained\",\n            color: \"secondary\",\n            type: \"submit\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 16\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 12\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n\n_c = Layout;\nexport default Layout;\n\nvar _c;\n\n$RefreshReg$(_c, \"Layout\");","map":{"version":3,"names":["React","TextField","Grid","Button","Box","Link","Layout","handleSubmit2","parkingSlots","form","setForm","setPrice","setOpen","handleChange","e","name","value","target","handleOpen","item","exitTime","Date","toLocaleTimeString","navigator","language","hour","minute","arriveTime","id","time","newArrivetime","split","newExitTime","totaltime","Number","padding","gap","map","pointerEvents","isAlloted","textDecoration","lineHeight","textAlign","border","backgroundColor","color","margin","width","height","marginTop","registration"],"sources":["/home/rails/Desktop/car-parking-app/src/Components/Layout.tsx"],"sourcesContent":["import React from 'react'\nimport {  TextField } from '@material-ui/core';\nimport { Grid, Button , Box} from '@material-ui/core';\nimport {Link} from \"react-router-dom\"\n\n\n\ntype FormData = {\n    registration : string ,\n    time : string\n}\n\n\ninterface Props {\n    parkingSlots: number[];\n    form : FormData ;\n    open : boolean;\n    setPrice :React.Dispatch<React.SetStateAction<number>>;\n    setOpen :  React.Dispatch<React.SetStateAction<boolean>>;\n    setForm : React.Dispatch<React.SetStateAction<{\n        registration: string;\n        time: string;\n    }>>;\n    handleSubmit2 : (e: React.FormEvent) => void;\n}\n\n\nconst Layout = ({handleSubmit2, parkingSlots , form, setForm , setPrice , setOpen } :Props) => {\n\n  \n\n\n\n    const handleChange = (e: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>) => {\n       const {name , value } = e.target\n       setForm ({...form, [name] : value })\n    }\n \n\n    const handleOpen = (item : any) => {\n     let exitTime =  new Date().toLocaleTimeString(navigator.language, {hour: '2-digit', minute:'2-digit'});\n     let arriveTime = item.id ? item.time : item\n     const newArrivetime =  arriveTime.split(\":\");\n     const newExitTime =  exitTime.split(\":\")\n    const totaltime = Number(newExitTime[0]) - Number(newArrivetime[0])\n     if(totaltime < 2 ){\n     setPrice(10)\n    }else{\n     setPrice((totaltime - 1) * 10)\n    }\n     setOpen(true)\n    } \n\n\n  return (\n    <div>\n        <Grid  container style = {{padding : \"3%\", gap : \"20px\"}} direction= \"row\" justifyContent=\"center\" alignItems=\"center\" > \n            {parkingSlots.map((item : any)=> (\n                <Link  key = {item.id}  style = {{pointerEvents : item.isAlloted ? \"auto\": \"none\", textDecoration : \"none\"}}  to = {`/layout/${item.id}`}>\n                 <Box \n                \n               style={{lineHeight: \"50px\", textAlign: \"center\", border : \"1px solid black\", backgroundColor: item.isAlloted ? \"green\" : \"grey\"  ,color:\"#000\", margin: \"0px 15px\"}}\n               sx={{\n                 width: 50,\n                 height: 50,\n               }}\n               id = \"parking-drawing-space\"\n               onClick={() => handleOpen(item)}\n               >\n                 {item.id}\n                 </Box>\n                </Link>\n              \n            ))}\n        </Grid> \n        <form onSubmit={handleSubmit2}>\n            <Grid className = \"inputs\" style = {{marginTop : \"50px\", gap : \"30px\" }} container direction= \"column\" justifyContent=\"center\" alignItems=\"center\"   >\n           <Grid>\n               <TextField onChange = {handleChange}   name = \"registration\" value = {form.registration}  autoFocus autoComplete='off' id = \"parking-drawing-registration-input\" label = \"Enter car registration no.\" required/>\n           </Grid>\n           <Grid>\n               <TextField  style = {{width : \"150px\"}}  name = \"time\" onChange = {handleChange} value = {form.time}  id=\"time\" label = \"Arrive time\" type=\"time\" />\n           </Grid>\n           <Grid>\n               <Button  id = \"parking-drawing-add-car-button\" variant=\"contained\" color=\"secondary\" type = \"submit\">Submit</Button>\n           </Grid>\n           </Grid>\n        </form>\n    </div>\n  )\n}\n\nexport default Layout\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}