{"ast":null,"code":"var _jsxFileName = \"/home/rails/Desktop/car-parking-app/src/App.tsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useState } from \"react\";\nimport Header from \"./Components/Header\";\nimport SpaceInput from \"./Components/SpaceInput\";\nimport { Route, Routes } from \"react-router-dom\";\nimport { useNavigate } from \"react-router-dom\";\nimport Layout from \"./Components/Layout\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport ModalPage from './Components/ModalPage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  let navigate = useNavigate();\n  const [userInput, setUserInput] = useState(\"\");\n  const [form, setForm] = useState({\n    registration: \"\",\n    time: \"\"\n  });\n  const [parkingSlots, setParkingSlots] = useState([]);\n  const [open, setOpen] = useState(false);\n  const [price, setPrice] = useState(20);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    let data = [];\n\n    for (let i = 1; i <= Number(userInput); i++) {\n      data.push({\n        id: i,\n        isAlloted: false\n      });\n    }\n\n    navigate(\"/layout\");\n    setParkingSlots(data);\n    console.log(data);\n  };\n\n  const handleSubmit2 = e => {\n    e.preventDefault();\n    let randomNum = parkingSlots[Math.floor(Math.random() * parkingSlots.length)];\n    const slotBooked = parkingSlots.map(item => {\n      if (item === randomNum) {\n        if (item.isAlloted !== true) {\n          return { ...item,\n            isAlloted: true,\n            registration: form.registration,\n            time: form.time\n          };\n        } else {\n          const notify = () => toast(\"Please select another slot \");\n\n          notify();\n          return { ...item\n          };\n        }\n      } else {\n        return item;\n      }\n    });\n    console.log(slotBooked);\n    setParkingSlots(slotBooked);\n    setForm({\n      registration: \"\",\n      time: \"\"\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(SpaceInput, {\n          userInput: userInput,\n          setUserInput: setUserInput,\n          handleSubmit: handleSubmit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"layout\",\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          index: true,\n          element: /*#__PURE__*/_jsxDEV(Layout, {\n            handleSubmit2: handleSubmit2,\n            parkingSlots: parkingSlots,\n            form: form,\n            setForm: setForm,\n            open: open,\n            setOpen: setOpen,\n            setPrice: setPrice\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \":slotID\",\n          element: /*#__PURE__*/_jsxDEV(ModalPage, {\n            open: open,\n            price: price,\n            parkingSlots: parkingSlots\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 50\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 6\n  }, this);\n};\n\n_s(App, \"4xkdxkzzZN+99FOutjM5pJ6VPVw=\", false, function () {\n  return [useNavigate];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","Header","SpaceInput","Route","Routes","useNavigate","Layout","ToastContainer","toast","ModalPage","App","navigate","userInput","setUserInput","form","setForm","registration","time","parkingSlots","setParkingSlots","open","setOpen","price","setPrice","handleSubmit","e","preventDefault","data","i","Number","push","id","isAlloted","console","log","handleSubmit2","randomNum","Math","floor","random","length","slotBooked","map","item","notify"],"sources":["/home/rails/Desktop/car-parking-app/src/App.tsx"],"sourcesContent":["import React from \"react\";\nimport { useState } from \"react\";\nimport Header from \"./Components/Header\";\nimport SpaceInput from \"./Components/SpaceInput\";\nimport { Route, Routes } from \"react-router-dom\";\nimport { useNavigate } from \"react-router-dom\";\nimport Layout from \"./Components/Layout\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport ModalPage from './Components/ModalPage'\n\n\n\n\n\n\nconst App: React.FC = () => {\n  let navigate = useNavigate();\n  const [userInput, setUserInput] = useState<string>(\"\");\n  const [form, setForm] = useState<{ registration: string; time: string }>({\n    registration: \"\",\n    time: \"\",\n  });\n  const [parkingSlots, setParkingSlots] = useState<any>([]);\n  const [open , setOpen] = useState<boolean>(false)\n  const [price , setPrice ] = useState<number>(20)\n\n\n\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    let data = [];\n    for (let i = 1; i <= Number(userInput); i++) {\n      data.push({ id: i, isAlloted: false });\n    }\n    navigate(\"/layout\" );\n    setParkingSlots(data);\n    console.log(data);\n  };\n\n\n\n  const handleSubmit2 = (e: React.FormEvent) => {\n    e.preventDefault();\n    let randomNum = parkingSlots[Math.floor(Math.random() * parkingSlots.length)];\n    const slotBooked = parkingSlots.map((item: any) => {\n      if (item === randomNum) {\n        if (item.isAlloted !== true) {\n          return {\n            ...item,\n            isAlloted: true,\n            registration: form.registration,\n            time: form.time\n          };\n        } else{\n          const notify = () => toast(\"Please select another slot \");\n          notify();\n          return { ...item };\n        }\n      } else {\n        return item;\n      }\n    });\n\n    console.log(slotBooked)\n    setParkingSlots(slotBooked);\n    setForm({ registration: \"\", time: \"\" });\n  };\n\n\n  return (\n     <div>\n      <Header />\n      <Routes>\n        <Route\n          path=\"/\"\n          element={\n            <SpaceInput\n              userInput={userInput}\n              setUserInput={setUserInput}\n              handleSubmit={handleSubmit}\n            />\n          }\n        />\n      <Route path = \"layout\">\n        <Route index element = {<Layout \n              handleSubmit2={handleSubmit2}\n              parkingSlots={parkingSlots}\n              form={form}\n              setForm={setForm}\n              open = {open} setOpen = {setOpen}\n              setPrice = {setPrice}\n              />}/>\n              <Route path = \":slotID\" element = {<ModalPage open = {open} price = {price} parkingSlots = {parkingSlots}/>}/>\n        </Route>\n      </Routes>\n      <ToastContainer />\n    </div>\n   \n  );\n};\n\nexport default App;\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}